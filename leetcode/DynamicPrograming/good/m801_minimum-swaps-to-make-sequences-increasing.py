'''
https://leetcode.com/problems/minimum-swaps-to-make-sequences-increasing/description/

We have two integer sequences A and B of the same non-zero length.

We are allowed to swap elements A[i] and B[i].  Note that both elements are in the same index position in their respective sequences.

At the end of some number of swaps, A and B are both strictly increasing.  (A sequence is strictly increasing if and only if A[0] < A[1] < A[2] < ... < A[A.length - 1].)

Given A and B, return the minimum number of swaps to make both sequences strictly increasing.  It is guaranteed that the given input always makes it possible.

Example:
Input: A = [1,3,5,4], B = [1,2,3,7]
Output: 1
Explanation: 
Swap A[3] and B[3].  Then the sequences are:
A = [1, 3, 5, 7] and B = [1, 2, 3, 4]
which are both strictly increasing.
Note:

A, B are arrays with the same length, and that length will be in the range [1, 1000].
A[i], B[i] are integer values in the range [0, 2000].
'''

class Solution(object):
    def minSwap_brute_force(self, A, B):
        """
        :type A: List[int]
        :type B: List[int]
        :rtype: int
        """
        # refer to https://leetcode.com/problems/minimum-swaps-to-make-sequences-increasing/discuss/119835/
        # There are two types of states: swap and fix
        # swapRecord means for the ith element in A and B, the minimum swaps if we swap A[i] and B[i]
        # fixRecord means for the ith element in A and B, the minimum swaps if we DONOT swap A[i] and B[i]
        
        swap, fix = 1, 0 # swap A[0] and B[0] or fix both
        for i in xrange(1, len(A)):
            if A[i-1] >= B[i] or B[i-1] >= B[i]:
                # if we did swap in i-1 position, we need to swap again
                swap += 1
            elif A[i-1] >= A[i] or B[i-1] >= B[i]:
                fix, swap = swap, fix + 1
            else:
                # either swap or fix is OK. Let's keep the minimum one
                fix = min(fix, swap)
                swap = fix + 1
        return min(swap, fix)

s = Solution()
# assert s.minSwap([], []) == 0
# assert s.minSwap([1], [2]) == 0
# assert s.minSwap([1,3], [2,2]) == 1
# assert s.minSwap([1,3,5,4], [1,2,3,7]) == 1
# assert s.minSwap([1,11,4,5], [2,3,12,13]) == 1
# assert s.minSwap([1,11,4,13], [2,3,12,5]) == 1
# assert s.minSwap([3,11,4,5], [2,3,12,13]) == 2
# assert s.minSwap([7,8,4,5,6,7], [2,3,9,10,11,12]) == 2
# assert s.minSwap([7,8,4,5,6,7,13,14,15], [2,3,9,10,11,12,8,9,10]) == 4
# assert s.minSwap([4,10,13,14,17,19,21,24,26,27,28,29,34,37,38,42,44,46,48,51,52,53,54,57,58,59,64,65,66,67,71,73,75,76,80,81,82,83,86,88,89,90,95,97,98,99,101,105,106,108,109,110,111,112,115,119,121,122,123,124,125,126,127,128,129,130,131,133,136,138,143,145,147,149,150,153,158,160,163,164,165,167,168,169,172,173,174,176,178,179,183,184,186,188,189,192,193,194,198,200],[0,1,3,5,6,7,11,13,15,16,17,21,37,39,41,42,43,45,47,50,53,55,56,57,64,66,67,68,69,70,71,72,74,75,76,77,79,80,87,88,89,95,96,97,98,100,101,105,106,107,108,112,113,115,116,118,119,122,124,125,126,127,128,131,135,136,137,138,139,140,144,145,148,150,151,154,159,160,161,162,163,167,168,170,171,174,176,178,179,180,181,185,187,189,190,191,192,198,199,200]) == 0
# assert s.minSwap([0,10,13,14,17,19,21,24,26,27,28,29,34,37,38,42,44,46,48,51,52,53,54,57,58,59,64,65,66,67,71,73,75,76,80,81,82,83,86,88,89,90,95,97,98,99,101,105,106,108,109,110,111,112,115,119,121,122,123,124,125,126,127,128,129,130,131,133,136,138,143,145,147,149,150,153,158,160,163,164,165,167,168,169,172,173,174,176,178,179,183,184,186,188,189,192,193,194,198,200],[4,1,3,5,6,7,11,13,15,16,17,21,37,39,41,42,43,45,47,50,53,55,56,57,64,66,67,68,69,70,71,72,74,75,76,77,79,80,87,88,89,95,96,97,98,100,101,105,106,107,108,112,113,115,116,118,119,122,124,125,126,127,128,131,135,136,137,138,139,140,144,145,148,150,151,154,159,160,161,162,163,167,168,170,171,174,176,178,179,180,181,185,187,189,190,191,192,198,199,200]) == 1

print s.minSwap([0,1,4,5,6,7,9,10,12,13,14,15,19,17,21,21,23,23,25,26,27,28,29,34,35,36,40,42,41,44,45,46,48,50,59,56,58,59,60,70,72,73,74,68,71,73,75,76,89,78,93,82,97,90,101,105,97,110,99,100,102,106,120,113,124,126,123,124,126,130,134,132,133,139,140,141,139,145,146,147,148,148,150,152,153,156,159,161,163,164,166,166,168,170,173,175,176,177,180,181,182,203,188,205,208,209,196,200,217,202,203,223,206,225,208,216,233,234,225,239,230,244,245,248,252,242,256,258,246,261,249,251,271,277,255,259,260,283,267,268,290,291,293,297,298,299,279,281,302,305,287,288,289,310,312,294,295,316,317,318,319,311,314,328,329,330,332,326,335,340,343,331,346,347,351,353,357,359,360,361,362,343,364,365,367,368,370,371,359,361,364,377,368,384,371,386,374,390,391,382,398,401,393,395,397,398,406,400,411,413,419,423,410,425,413,427,428,418,421,423,424,425,440,442,443,439,444,447,456,460,461,457,464,465,467,463,469,470,471,473,468,475,481,482,478,485,482,485,486,488,496,493,497,500,502,503,502,506,507,508,515,510,517,513,524,518,519,528,523,524,525,526,527,540,541,530,531,545,547,539,540,542,544,552,558,560,552,555,557,570,572,574,575,577,579,580,585,588,588,591,592,595,597,602,598,600,601,610,607,608,614,616,617,618,620,633,635,624,625,639,640,629,645,648,640,642,657,644,661,662,663,656,658,664,668,667,668,670,675,672,677,680,681,685,687,689,692,695,697,696,702,703,701,703,704,708,710,712,723,726,717,718,719,732,724,725,735,730,731,734,742,738,747,743,744,745,747,750,759,762,753,765,772,773,761,775,776,769,779,772,773,774,777,791,779,794,795,783,785,800,787,790,792,795,814,820,821,802,823,824,826,810,813,814,831,816,818,836,840,842,827,828,850,851,852,853,838,842,860,844,862,868,869,870,851,876,878,879,861,863,884,868,886,871,889,904,879,880,882,883,912,914,886,888,889,925,926,893,929,933,902,904,905,940,910,911,943,944,917,918,950,951,952,953,954,958,959,960,961,965,966,938,972,941,942,977,978,981,958,986,987,988,994,966,967,1000,971,1002,1003,977,979,1012,1013,1014,985,986,1023,1025,1026,993,998,1032,1033,1034,1007,1040,1011,1044,1045,1020,1048,1022,1050,1026,1055,1056,1033,1060,1061,1037,1038,1040,1067,1048,1049,1052,1054,1082,1057,1059,1088,1062,1091,1067,1068,1098,1099,1075,1076,1109,1082,1083,1113,1085,1115,1089,1120,1092,1095,1126,1099,1129,1102,1132,1105,1140,1108,1109,1148,1117,1151,1152,1154,1125,1127,1128,1132,1133,1168,1169,1143,1175,1177,1178,1180,1153,1184,1156,1160,1188,1164,1192,1166,1168,1199,1173,1174,1209,1210,1181,1185,1216,1217,1193,1221,1222,1223,1226,1230,1206,1207,1208,1237,1239,1216,1217,1219,1244,1221,1222,1249,1250,1252,1229,1255,1261,1234,1236,1237,1270,1240,1273,1275,1245,1247,1280,1249,1252,1254,1294,1299,1300,1301,1303,1304,1264,1266,1307,1268,1309,1310,1311,1279,1281,1282,1284,1321,1323,1293,1325,1295,1296,1299,1301,1302,1303,1306,1348,1309,1311,1313,1314,1367,1318,1322,1323,1372,1374,1376,1378,1380,1332,1384,1334,1388,1341,1391,1392,1347,1351,1396,1356,1357,1359,1404,1368,1408,1372,1373,1374,1417,1376,1423,1426,1428,1429,1435,1395,1397,1398,1402,1446,1447,1449,1450,1413,1452,1453,1416,1456,1425,1427,1460,1463,1466,1470,1472,1473,1440,1443,1444,1445,1484,1447,1487,1451,1489,1453,1454,1456,1457,1458,1500,1504,1464,1467,1468,1510,1512,1478,1519,1481,1525,1526,1495,1533,1499,1536,1503,1504,1505,1542,1545,1511,1548,1518,1521,1522,1524,1557,1534,1535,1536,1537,1571,1542,1544,1546,1548,1550,1554,1555,1583,1558,1559,1589,1590,1575,1592,1594,1597,1586,1599,1601,1597,1603,1602,1603,1604,1608,1610,1608,1613,1624,1612,1628,1614,1631,1618,1619,1623,1624,1625,1627,1628,1629,1633,1635,1640,1641,1658,1659,1660,1649,1654,1669,1670,1660,1674,1664,1667,1680,1669,1671,1683,1684,1685,1686,1687,1688,1691,1692,1694,1696,1698,1701,1702,1702,1705,1706,1707,1707,1712,1717,1716,1720,1719,1721,1722,1726,1727,1728,1731,1733,1734,1736,1738,1739,1745,1749,1752,1755,1754,1757,1762,1763,1766,1767,1770,1775,1777,1780,1781,1781,1782,1785,1787,1789,1790,1794,1795,1796,1797,1798,1799,1802,1804,1803,1804,1807,1808,1809,1815,1817,1823,1824,1825,1820,1827,1822,1833,1824,1828,1829,1830,1831,1833,1852,1853,1844,1855,1858,1859,1851,1862,1863,1865,1858,1867,1868,1872,1865,1877,1873,1879,1876,1881,1889,1884,1893,1887,1888,1899,1893,1902,1904,1896,1897,1909,1910,1905,1912,1910,1913,1919,1915,1916,1923,1925,1927,1922,1925,1933,1935,1936,1937,1938,1939,1940,1943,1944,1940,1941,1951,1949,1950,1954,1953,1957,1961,1966,1967,1966,1974,1968,1971,1972,1973,1982,1984,1985,1987,1988,1983,1991,1992,1993,1995,1993,1997],[0,1,4,6,7,8,9,10,11,13,14,18,16,20,19,22,22,24,25,27,28,30,32,34,35,36,37,39,43,42,43,46,48,52,54,60,62,67,68,62,65,66,67,80,81,83,86,87,77,90,81,96,87,98,91,95,106,98,112,116,118,119,108,121,114,117,129,130,131,132,131,135,137,134,136,138,143,140,142,144,147,149,150,151,154,155,159,161,163,165,165,167,169,170,174,176,182,183,188,192,194,185,204,189,190,195,211,212,201,218,219,205,224,207,226,232,219,224,236,229,242,231,232,233,235,255,244,245,259,247,262,264,253,254,278,280,282,261,286,288,270,272,273,275,276,277,300,301,283,284,307,308,309,292,293,313,314,301,302,304,308,320,321,315,320,323,325,334,328,329,330,344,332,333,334,335,336,337,339,340,342,363,347,351,352,355,357,358,373,374,375,366,380,369,385,373,388,377,378,392,383,388,402,403,404,405,399,410,403,406,407,408,424,412,426,414,415,432,433,434,437,439,426,427,438,449,450,453,454,455,456,462,459,460,462,468,464,465,466,467,474,469,472,475,484,479,488,491,492,494,491,497,498,499,500,501,504,506,507,508,509,516,512,520,514,526,527,521,530,533,534,536,537,528,529,542,544,532,537,548,549,550,551,545,549,550,563,565,568,567,568,574,575,576,578,580,584,587,589,591,593,593,596,597,605,608,609,603,611,612,614,617,621,623,629,621,622,637,638,626,627,641,637,638,652,656,643,660,645,652,653,664,665,666,666,671,672,673,671,676,674,678,681,683,691,692,693,694,695,701,698,700,706,710,714,715,716,720,715,716,727,728,729,722,733,734,728,736,737,740,735,744,741,750,751,752,754,755,751,752,763,755,756,759,774,763,766,778,770,780,785,786,790,778,792,781,782,797,799,786,801,807,810,811,796,800,801,822,804,806,807,828,829,830,815,834,835,819,822,825,843,847,831,834,835,837,855,856,843,861,845,846,849,850,875,853,857,858,881,883,865,885,869,887,874,875,905,909,910,911,884,885,916,919,922,890,891,928,898,901,935,936,939,908,941,942,913,914,946,947,920,921,922,923,924,928,931,934,935,936,937,969,939,974,975,943,955,957,982,959,960,961,962,995,999,969,1001,973,976,1008,1009,981,982,983,1016,1019,988,989,990,1029,1031,1001,1003,1005,1036,1009,1042,1012,1014,1047,1021,1049,1024,1052,1027,1030,1057,1035,1036,1062,1064,1066,1044,1068,1071,1072,1076,1055,1085,1087,1060,1090,1063,1094,1096,1071,1074,1105,1107,1081,1110,1111,1084,1114,1086,1119,1090,1121,1124,1097,1127,1100,1130,1103,1135,1107,1142,1144,1112,1150,1120,1123,1124,1156,1158,1159,1162,1166,1134,1136,1174,1144,1149,1150,1151,1182,1155,1185,1187,1163,1189,1165,1196,1198,1169,1203,1207,1178,1180,1212,1213,1188,1192,1220,1196,1199,1200,1202,1205,1231,1235,1236,1214,1215,1240,1241,1243,1220,1247,1248,1225,1226,1228,1254,1230,1232,1264,1266,1268,1238,1271,1242,1244,1278,1279,1248,1281,1285,1290,1256,1257,1258,1260,1262,1263,1305,1306,1267,1308,1272,1275,1276,1312,1313,1314,1316,1287,1288,1324,1294,1328,1331,1332,1333,1335,1339,1344,1307,1351,1353,1357,1359,1315,1368,1369,1370,1324,1327,1328,1329,1331,1381,1333,1386,1340,1389,1342,1343,1393,1395,1353,1397,1398,1401,1362,1406,1370,1411,1414,1416,1375,1419,1377,1383,1384,1387,1390,1437,1438,1442,1444,1404,1406,1410,1411,1451,1414,1415,1455,1420,1457,1459,1429,1431,1432,1433,1435,1439,1474,1477,1480,1483,1446,1486,1450,1488,1452,1490,1492,1493,1497,1498,1459,1461,1505,1508,1509,1474,1477,1517,1479,1520,1482,1491,1531,1498,1535,1501,1537,1540,1541,1506,1509,1547,1515,1551,1553,1554,1556,1526,1562,1565,1568,1570,1539,1572,1573,1575,1577,1578,1579,1582,1556,1585,1586,1564,1569,1591,1577,1581,1584,1598,1588,1596,1602,1598,1604,1605,1607,1605,1607,1611,1609,1611,1626,1613,1630,1615,1632,1635,1636,1637,1640,1643,1646,1647,1651,1653,1656,1657,1644,1646,1648,1666,1667,1656,1657,1672,1662,1675,1679,1668,1681,1682,1673,1675,1677,1679,1687,1689,1691,1694,1695,1697,1697,1700,1701,1703,1704,1705,1706,1709,1711,1713,1718,1718,1722,1723,1725,1724,1725,1727,1729,1730,1738,1739,1740,1743,1745,1751,1752,1753,1758,1761,1762,1764,1766,1767,1769,1771,1775,1778,1779,1784,1785,1786,1787,1792,1793,1794,1795,1796,1797,1798,1801,1800,1802,1805,1806,1807,1808,1814,1812,1813,1815,1817,1819,1826,1821,1829,1823,1834,1837,1838,1840,1846,1848,1834,1840,1854,1846,1847,1849,1861,1852,1854,1855,1866,1861,1862,1864,1873,1872,1878,1874,1880,1880,1882,1890,1886,1895,1896,1889,1900,1894,1895,1906,1908,1902,1904,1911,1906,1914,1915,1914,1920,1922,1917,1918,1920,1929,1931,1926,1928,1931,1932,1933,1935,1936,1937,1939,1946,1950,1946,1952,1953,1952,1955,1955,1956,1960,1963,1970,1967,1977,1979,1980,1981,1974,1975,1976,1977,1978,1990,1984,1985,1989,1991,1998,1999])